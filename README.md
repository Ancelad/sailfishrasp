# Расписание электричек под Sailfish OS

## В первую очередь сделать на ПК:

- [x] Cкачать XML с базами зон
- [x] Выкачать все XML с базами станций по зонам
- [x] Сконвертировать их в **sqlite**
- [ ] Хранить базы в приложении, уметь читать ключи по значению и всё такое

## Что надо сделать

- [ ] При запуске определяем геолокацию и по ней решаем, в какой зоне ищем. **Если не получилось, то хуй знает, что делать**
- [ ] При нажатии на кнопку геолокации находим ближайшую станцию. **Если не получилось**, рисуем вместо кнопки грустный смайл например
- [ ] Если в datePicker выбрана прошедшая дата, то уведомляем об этом например красным лейблом
- [ ] Дёргаем из интерфейса автодополнение названия станции, получаем `title`, `short_title` и `esr`
- [ ] При заполнении всех полей выполняем сетевой  реквест маршрутов (ниток)
- [ ] Отображаем полученный респонз в ещё ненарисованном ListView на SecondPage
- [ ] Переключение руками зоны: список всех + поле поиска с автодополнением



## Светлое будущее 
- [ ] При запуске сразу же дёргаем **sqlite**, чтобы база для скорости лежала в оперативной памяти 
- [ ] Если искались поезда на сегодня, то на Cover выводим ближайший поезд и кнопку обновить, иначе ничего
- [ ] Избранные маршруты
- [ ] Оффлайн расписание?
- [ ] Проверять актуальность базы (смотреть `ETag`?)
Если старая, то скачивать XML, превращать в **sqlite** и обновлять его